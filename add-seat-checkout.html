<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Th√™m Seat - Thanh to√°n - HKSpace SaaS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="custom.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <a href="landing-page.html" class="navbar-brand">HKSpace</a>
            <ul class="navbar-nav">
                <li><a href="landing-page.html">B·∫£ng gi√°</a></li>
                <li><a href="subscription.html">G√≥i ƒëƒÉng k√Ω</a></li>
                <li><a href="checkout.html" class="active">Thanh to√°n</a></li>
                <li><a href="payment.html">C·ªïng thanh to√°n</a></li>
            </ul>
        </div>
    </nav>
    <div class="container mt-5 mb-5">
        <div class="row g-4">
            <!-- Left Section: Current Plan -->
            <div class="col-lg-4">
                <div class="card" style="border: none; box-shadow: var(--shadow-md);">
                    <div class="card-body p-4">
                        <h3 class="fw-bold mb-4">G√≥i hi·ªán t·∫°i</h3>
                        
                        <div class="mb-4">
                            <div class="d-flex align-items-center mb-2">
                                <h4 class="mb-0">G√≥i c·ªßa b·∫°n l√† <strong>Basic</strong></h4>
                            </div>
                            <p class="text-secondary mb-3">Gi·∫£i ph√°p ph√π h·ª£p cho c√°c team b·∫Øt ƒë·∫ßu</p>
                            
                            <div class="mb-3">
                                <span class="text-secondary">Ho·∫°t ƒë·ªông ƒë·∫øn</span>
                                <span class="fw-bold ms-2">15/10/2025</span>
                            </div>
                            <p class="text-secondary small mb-3">
                                Ch√∫ng t√¥i s·∫Ω g·ª≠i th√¥ng b√°o khi g√≥i ƒëƒÉng k√Ω s·∫Øp h·∫øt h·∫°n
                            </p>
                            
                            <div class="d-flex align-items-baseline gap-2 mb-2">
                                <span class="h4 fw-bold mb-0">$15</span>
                                <span class="text-secondary">/th√†nh vi√™n/th√°ng</span>
                                <span class="badge" style="background: var(--primary); color: white; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 11px;">Ph·ªï bi·∫øn</span>
                            </div>
                            <p class="text-secondary small">G√≥i ti√™u chu·∫©n cho c√°c doanh nghi·ªáp nh·ªè v√† v·ª´a</p>
                        </div>
                        
                        <div class="mt-4 pt-3 border-top">
                            <div class="d-flex align-items-center justify-content-between mb-2">
                                <span class="text-secondary small">Seats hi·ªán t·∫°i</span>
                                <span class="fw-bold" id="current-seats">2</span>
                            </div>
                            <div class="progress mb-2" style="height: 8px; background: var(--bg-tertiary);">
                                <div class="progress-bar" role="progressbar" style="width: 20%; background: var(--primary);" id="seats-progress"></div>
                            </div>
                            <p class="text-secondary small mb-0">
                                <span id="remaining-seats">18</span> seats c√≤n l·∫°i trong g√≥i
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Middle Section: Add Seat Form -->
            <div class="col-lg-5">
                <div class="card" style="border: none; box-shadow: var(--shadow-md);">
                    <div class="card-body p-4">
                        <h3 class="fw-bold mb-4">Th√™m seat</h3>
                        
                        <!-- Seat Quantity Selector -->
                        <div class="form-section mb-4">
                            <label class="form-label fw-bold mb-3">S·ªë l∆∞·ª£ng seat mu·ªën th√™m</label>
                            <div class="d-flex align-items-center gap-3">
                                <button class="btn btn-outline-secondary" style="width: 40px; height: 40px; border-radius: 8px;" onclick="changeSeatQuantity(-1)">
                                    <span>-</span>
                                </button>
                                <input type="number" class="form-control text-center fw-bold" id="seat-quantity" value="3" min="1" max="18" style="width: 80px; height: 40px; border-radius: 8px; border: 2px solid var(--border);" onchange="updateInvoice()">
                                <button class="btn btn-outline-secondary" style="width: 40px; height: 40px; border-radius: 8px;" onclick="changeSeatQuantity(1)">
                                    <span>+</span>
                                </button>
                                <span class="text-secondary ms-2">seats</span>
                            </div>
                            <small class="text-secondary mt-2 d-block">T·ªëi ƒëa 18 seats c√≥ th·ªÉ th√™m</small>
                        </div>
                        
                        <!-- Payment Methods -->
                        <div class="form-section">
                            <label class="form-label fw-bold mb-3">Ph∆∞∆°ng th·ª©c thanh to√°n</label>
                            <div class="payment-methods-radio">
                                <div class="form-check mb-3" style="padding: 1rem; border: 2px solid var(--border); border-radius: var(--radius-md); cursor: pointer; transition: all 0.2s;" 
                                     onmouseover="this.style.borderColor='var(--primary)'" 
                                     onmouseout="if(!this.querySelector('input').checked) this.style.borderColor='var(--border)'">
                                    <input class="form-check-input" type="radio" name="paymentMethod" id="paymentCard" value="card" checked 
                                           onchange="updatePaymentMethod('card')" style="margin-top: 0.5rem;">
                                    <label class="form-check-label w-100" for="paymentCard" style="cursor: pointer;">
                                        <div class="d-flex align-items-center justify-content-between">
                                            <div>
                                                <strong>Th·∫ª ghi n·ª£/T√≠n d·ª•ng/ATM</strong>
                                                <div class="text-secondary small mt-1">Visa, Mastercard, JCB</div>
                                            </div>
                                            <div class="d-flex gap-2">
                                                <span style="font-size: 24px;">üí≥</span>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                                
                                <div class="form-check" style="padding: 1rem; border: 2px solid var(--border); border-radius: var(--radius-md); cursor: pointer; transition: all 0.2s;"
                                     onmouseover="this.style.borderColor='var(--primary)'" 
                                     onmouseout="if(!this.querySelector('input').checked) this.style.borderColor='var(--border)'">
                                    <input class="form-check-input" type="radio" name="paymentMethod" id="paymentBank" value="bank"
                                           onchange="updatePaymentMethod('bank')" style="margin-top: 0.5rem;">
                                    <label class="form-check-label w-100" for="paymentBank" style="cursor: pointer;">
                                        <div class="d-flex align-items-center justify-content-between">
                                            <div>
                                                <strong>Chuy·ªÉn kho·∫£n / V√≠ ƒëi·ªán t·ª≠</strong>
                                                <div class="text-secondary small mt-1">Banking, Momo, ZaloPay</div>
                                            </div>
                                            <div class="d-flex gap-2">
                                                <span style="font-size: 24px;">üè¶</span>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Checkout Button -->
                        <button class="btn btn-primary w-100 py-3 mt-4" style="border-radius: var(--radius-md); font-weight: 600;" onclick="processCheckout()">
                            Ti·∫øp t·ª•c thanh to√°n
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Right Section: Invoice Summary -->
            <div class="col-lg-3">
                <div class="invoice-card" style="position: sticky; top: 100px;">
                    <div class="invoice-title mb-3">T√≥m t·∫Øt ƒë∆°n h√†ng</div>
                    
                    <div class="invoice-details mb-3">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <span class="text-secondary">G√≥i</span>
                            <span class="fw-bold">Basic</span>
                        </div>
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <span class="text-secondary">Th√™m seats</span>
                            <span class="fw-bold" id="invoice-seat-quantity">3</span>
                        </div>
                    </div>
                    
                    <div class="mt-3 pt-3 border-top"></div>
                    
                    <div class="invoice-details">
                        <div class="invoice-details-item">
                            <span class="invoice-details-item-label">ƒê∆°n gi√°/seat</span>
                            <span class="invoice-details-item-value">$10</span>
                        </div>
                        <div class="invoice-details-item">
                            <span class="invoice-details-item-label">ƒê∆°n gi√° √ó seats</span>
                            <span class="invoice-details-item-value" id="invoice-subtotal">$30</span>
                        </div>
                        <div class="invoice-details-item">
                            <span class="invoice-details-item-label">Th·ªùi gian c√≤n l·∫°i</span>
                            <span class="invoice-details-item-value">15 ng√†y</span>
                        </div>
                        <div class="invoice-total mt-3">
                            <span class="invoice-total-label">T·ªïng ti·ªÅn</span>
                            <span class="invoice-total-value" id="invoice-total">$15</span>
                        </div>
                        <div class="mt-3">
                            <small class="text-secondary">Cho <span id="invoice-seats-text">3 seats</span> trong 15 ng√†y c√≤n l·∫°i c·ªßa k·ª≥ hi·ªán t·∫°i</small>
                        </div>
                    </div>
                    
                    <div class="mt-3 pt-3 border-top"></div>
                    
                    <div class="invoice-details mt-3">
                        <div class="alert" style="background: #fef3c7; border: 1px solid #fde68a; color: #92400e; padding: 0.75rem; border-radius: var(--radius-md); font-size: 13px;">
                            <strong>üìù Ghi ch√∫:</strong> ƒê·∫øn k·ª≥ ti·∫øp theo s·∫Ω thanh to√°n cho <span id="invoice-next-seats">5</span> seats
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let seatQuantity = 3;
        const maxSeats = 18;
        const currentSeats = 2;
        const pricePerSeat = 10;
        const remainingDays = 15;
        
        function changeSeatQuantity(delta) {
            const newQuantity = Math.max(1, Math.min(maxSeats, seatQuantity + delta));
            document.getElementById('seat-quantity').value = newQuantity;
            seatQuantity = newQuantity;
            updateInvoice();
        }
        
        function updateInvoice() {
            seatQuantity = parseInt(document.getElementById('seat-quantity').value) || 1;
            
            // Update quantity display
            document.getElementById('invoice-seat-quantity').textContent = seatQuantity;
            document.getElementById('invoice-seats-text').textContent = seatQuantity + ' seats';
            
            // Calculate prices
            const subtotal = pricePerSeat * seatQuantity;
            const total = Math.round((subtotal * remainingDays / 30) * 100) / 100;
            const nextPeriodSeats = currentSeats + seatQuantity;
            
            // Update invoice values
            document.getElementById('invoice-subtotal').textContent = '$' + subtotal;
            document.getElementById('invoice-total').textContent = '$' + total.toFixed(2);
            document.getElementById('invoice-next-seats').textContent = nextPeriodSeats;
            
            // Update progress bar
            const totalSeats = currentSeats + seatQuantity;
            const progressPercent = Math.min(100, (totalSeats / 20) * 100);
            document.getElementById('seats-progress').style.width = progressPercent + '%';
            document.getElementById('remaining-seats').textContent = Math.max(0, 20 - totalSeats);
        }
        
        function updatePaymentMethod(method) {
            // Update border color for selected payment method
            document.querySelectorAll('.form-check').forEach(el => {
                const input = el.querySelector('input[type="radio"]');
                if (input.checked) {
                    el.style.borderColor = 'var(--primary)';
                    el.style.backgroundColor = 'rgba(37, 99, 235, 0.05)';
                } else {
                    el.style.borderColor = 'var(--border)';
                    el.style.backgroundColor = 'transparent';
                }
            });
        }
        
        function processCheckout() {
            const paymentMethod = document.querySelector('input[name="paymentMethod"]:checked').value;
            window.location.href = `payment.html?action=add-seat&seats=${seatQuantity}&method=${paymentMethod}`;
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateInvoice();
            updatePaymentMethod();
            
            // Watch for input changes
            document.getElementById('seat-quantity').addEventListener('input', function() {
                const value = parseInt(this.value) || 1;
                if (value < 1) this.value = 1;
                if (value > maxSeats) this.value = maxSeats;
                seatQuantity = parseInt(this.value);
                updateInvoice();
            });
        });
    </script>
    <style>
        .form-check input[type="radio"]:checked ~ label {
            color: var(--primary);
        }
        
        .form-check input[type="radio"]:checked {
            background-color: var(--primary);
            border-color: var(--primary);
        }
        
        .form-check:hover {
            border-color: var(--primary) !important;
        }
        
        .progress {
            border-radius: 10px;
            overflow: hidden;
        }
        
        .progress-bar {
            transition: width 0.3s ease;
        }
    </style>
</body>
</html>

